<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mon Petit Monde RPG</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>ğŸ—ºï¸ Mon Petit Monde RPG</h1>
        <p>Explorez le monde gÃ©nÃ©rÃ© par votre API â€¢ Position: <span id="current-position">(0, 0)</span></p>
        <div class="header-buttons">
            <button onclick="toggleTheme()" class="theme-toggle-btn">
                <span id="theme-icon">ğŸŒ™</span>
                <span id="theme-text">Mode sombre</span>
            </button>
            <button onclick="logout()" class="button">Se dÃ©connecter</button>
        </div>
    </header>
    <div class="main-container">
        <!-- ASIDE GAUCHE -->
        <aside class="left-aside">
            <!-- Carte Joueur -->
            <details class="card" close>
                <summary>ğŸ§‘ Joueur</summary>
                <div class="card-content">
                    <hr>
                    <div class="card-row"><span class="card-label">Nom:</span><span class="card-value" id="player-name">-</span></div>
                    <div class="card-row"><span class="card-label">Email:</span><span class="card-value" id="player-email">-</span></div>
                    <div class="card-row"><span class="card-label">Niveau:</span><span class="card-value" id="player-level">-</span></div>
                    <div class="card-row"><span class="card-label">ExpÃ©rience:</span><span class="card-value" id="player-xp">-</span></div>
                    <div class="card-row"><span class="card-label">Vie:</span><span class="card-value" id="player-hp">-</span></div>
                    <div class="card-row"><span class="card-label">Vie Max:</span><span class="card-value" id="player-hpmax">-</span></div>
                    <div class="card-row"><span class="card-label">Force:</span><span class="card-value" id="player-strength">-</span></div>
                    <div class="card-row"><span class="card-label">DÃ©fense:</span><span class="card-value" id="player-defense">-</span></div>
                </div>
            </details>
    
            <!-- Informations -->
            <details class="card" close>
                <summary>ğŸ“Š Information</summary>
                <div class="card-content">
                    <hr>
                    <div class="card-row"><span class="card-label">Taille du monde:</span><span class="card-value">50 Ã— 50</span></div>
                    <div class="card-row"><span class="card-label">Position:</span><span class="card-value" id="zone-display">20 Ã— 20 tuiles</span></div>
                    <div class="card-row"><span class="card-label">Status API:</span><span class="card-value status connected">ConnectÃ©</span></div>
                    <div class="card-row"><span class="card-label">Tuiles chargÃ©es:</span><span class="card-value" id="tiles-count">9</span></div>
                </div>
            </details>
    
            <!-- Navigation -->
            <details class="card" open>
                <summary>ğŸ§­ Navigation</summary>
                <div class="card-content">
                    <div class="navigation">
                        <div class="nav-row"><button class="nav-btn" onclick="moveMap('nord')">â†‘ Nord</button></div>
                        <div class="nav-row">
                            <button class="nav-btn" onclick="moveMap('ouest')">â† Ouest</button>
                            <button class="nav-btn center" onclick="centerMap()">ğŸ¯ Centre</button>
                            <button class="nav-btn" onclick="moveMap('est')">â†’ Est</button>
                        </div>
                        <div class="nav-row"><button class="nav-btn" onclick="moveMap('sud')">â†“ Sud</button></div>
                    </div>
                </div>
            </details>
    
            <!-- LÃ©gende -->
            <details class="card" close>
                <summary>ğŸªª LÃ©gende</summary>
                <div class="card-content">
                    <hr>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/Forest.png" /><span>ForÃªt</span></div>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/Mountain.png" /><span>Montagne</span></div>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/Plains.png" /><span>Plaine</span></div>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/River.png" /><span>RiviÃ¨re</span></div>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/Road.png" /><span>Route</span></div>
                    <div class="card-legend"><img class="card-img" src="Assets/TypesTuiles/Town.png" /><span>Ville</span></div>
                </div>
            </details>
    
            <!-- Tuile sÃ©lectionnÃ©e -->
            <details class="card" close>
                <summary>ğŸ“ Tuile sÃ©lectionnÃ©e</summary>
                <div class="card-content">
                    <hr>
                    <div class="card-selected selected-tile-row"><span>Position:</span><span id="selected-position">(1, 1)</span></div>
                    <div class="card-selected selected-tile-row"><span>Type:</span><span><img class="card-img selected-type" src="Assets/TypesTuiles/Forest.png" /></span></div>
                    <div class="card-selected selected-tile-row"><span>Traversable:</span><span id="selected-traversable">âœ… Oui</span></div>
                </div>
            </details>
        </aside>
    
        <!-- MAIN CENTRAL -->
        <main>
            <div class="map-header">
                <h2>ğŸ—ºï¸ Carte du Monde</h2>
            </div>
            <div class="map-grid" id="map-grid"></div>
        </main>
    
        <!-- ASIDE DROIT -->
        <aside class="right-aside">
            <!-- Toasts -->
            <details class="card" open>
                <summary>ğŸ”” Notifications</summary>
                <div class="card-content">
                    <div id="toast-container" class="toast-container"></div>
                </div>
            </details>
    
            <!-- QuÃªtes -->
            <details class="card" close>
                <summary>ğŸ“œ QuÃªtes</summary>
                <div class="card-content">
                    <div id="quests-container" class="quests-container">
                        <p>Chargement des quÃªtes...</p>
                    </div>
                </div>
            </details>

            <!-- Informations du monstre -->
            <details class="card" open>
                <summary>ğŸ² Informations Monstre</summary>
                <div class="card-content">
                    <div id="monster-info" style="display: none;"></div>
                    <p class="monster-info-text">SÃ©lectionnez une tuile avec un monstre pour voir ses informations.</p>
                </div>
            </details>
    
            <!-- Simulateur de combat -->
            <details class="card" open>
                <summary>âš”ï¸ Simulateur de Combat</summary>
                <div class="card-content">
                    <div id="combat-simulator" style="display: none;">
                        <div class="combat-result">
                            <h4>RÃ©sultat simulÃ©:</h4>
                            <div id="combat-message"></div>
                            <div id="combat-details"></div>
                        </div>
                    </div>
                    <p class="simulator-info">SÃ©lectionnez une tuile avec un monstre pour simuler un combat.</p>
                </div>
            </details>
        </aside>
    </div>
    

    <footer></footer>
    
    <!-- Chargement des scripts dans l'ordre correct -->
    <script src="js/config.js"></script>
    <script src="js/api-service.js"></script>
    <script src="js/api.js"></script>
    <script src="js/player.js"></script>
    <script src="js/map.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/combat.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
